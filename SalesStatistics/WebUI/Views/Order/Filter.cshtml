@model Application.UseCases.Orders.Queries.GetFilteringOrdersWithPagination.GetFilteringOrdersWithPaginationQuery

@await Html.PartialAsync("_ScriptsImportPartial")

@using (Html.BeginForm("FilteringOrdersPage", "Order", FormMethod.Post))
{
    @Html.AntiForgeryToken()
    <th scope="col">
        @Html.EditorFor(m => m.DateFromFilter,
        new { htmlAttributes = new { type = "date", @id = "dateFrom", @class = "dateElements" } })
    </th>
    <th scope="col">
        @Html.EditorFor(m => m.DateToFilter,
        new { htmlAttributes = new { type = "date", @id = "dateTo", @class = "dateElements" } })
    </th>
    <th scope="col">
        @Html.EditorFor(m => m.Sum,
        new { htmlAttributes = new { type = "number", min = "0", placeholder = "Sum" } })
    </th>
    <th scope="col"><input type="submit" value="Search" class="btn btn-secondary"/></th>
}

<script>
    $('.dateElements').each(function () {
        const elem = $(this);

        elem.bind("propertychange change click keyup input paste",
            function (event) {
                if (!$('#dateFrom').val() && $('#dateTo').val()) {
                    $('#dateFrom').attr("required", true);
                } else {
                    $('#dateFrom').removeAttr("required");
                }
                if (!$('#dateTo').val() && $('#dateFrom').val()) {
                    $('#dateTo').attr("required", true);
                } else {
                    $('#dateTo').removeAttr("required");
                }
            });
    })
</script>